{"ast":null,"code":"import React,{useEffect,useState}from'react';import TodoList from'../components/todoList/TodoList';import Button from'../components/button/Button';import Modal from'../components/modal/Modal';import todo from\"../components/todo/Todo\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TodoPage=()=>{const[show,setShow]=useState(false);const[show2,setShow2]=useState(false);const[name,setName]=useState('');const[inputValue,setInputValue]=useState('');const[todoList,setTodoList]=useState([]);const handleInput=event=>{setInputValue(event.target.value);};const handleAdd=()=>{console.log('add');setTodoList(prevState=>[...prevState,{id:todoList.length===0?1:todoList[todoList.length-1].id+1,title:inputValue,completed:false}]);};const handleEdit=todoEdit=>{console.log(todoEdit);todoList.map(todo=>{if(todoEdit.id===todo.id)return todo.title=todoEdit.title;});setTodoList([...todoList]);};const handleDone=id=>{todoList.map(todo=>{if(id===todo.id){return todo.completed=!todo.completed;}});setTodoList([...todoList]);};const handleDelete=id=>{setTodoList(todoList.filter(todo=>todo.id!==id));};const handleShow=name=>{setName(name);if(name==='show')setShow(prevState=>!prevState);if(name==='show2')setShow2(prevState=>!prevState);};useEffect(()=>{console.log('useEffect');},[show]);useEffect(()=>{localStorage.setItem('user',JSON.stringify({id:5,name:'Nikita'}));},[]);console.log(localStorage.getItem('user'));useEffect(()=>{const myLocalStorage=JSON.parse(localStorage.getItem('todo'));if(myLocalStorage===null){return localStorage.setItem('todo',JSON.stringify(todoList));}if(myLocalStorage!==0){setTodoList(myLocalStorage);}},[]);useEffect(()=>{localStorage.setItem('todo',JSON.stringify(todoList));},[todoList]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TodoList,{todoList:todoList,handleDone:handleDone,handleDelete:handleDelete,handleEdit:handleEdit}),/*#__PURE__*/_jsx(Button,{name:'Открыть',action:()=>handleShow('show')}),/*#__PURE__*/_jsx(Button,{name:'Открыть2',action:()=>handleShow('show2')}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleShow('show'),children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleShow('show2'),children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C\"}),show&&/*#__PURE__*/_jsx(Modal,{handleShow:handleShow,name:name,handleInput:handleInput,handleAdd:handleAdd,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Hello\"})}),show2&&/*#__PURE__*/_jsx(Modal,{handleShow:handleShow,name:name,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Hello2\"})})]});};export default TodoPage;","map":{"version":3,"names":["React","useEffect","useState","TodoList","Button","Modal","todo","jsx","_jsx","jsxs","_jsxs","TodoPage","show","setShow","show2","setShow2","name","setName","inputValue","setInputValue","todoList","setTodoList","handleInput","event","target","value","handleAdd","console","log","prevState","id","length","title","completed","handleEdit","todoEdit","map","handleDone","handleDelete","filter","handleShow","localStorage","setItem","JSON","stringify","getItem","myLocalStorage","parse","children","action","onClick"],"sources":["C:/Users/ASUS/Desktop/Iman_42_2/lesson4/src/pages/TodoPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport TodoList from '../components/todoList/TodoList';\r\nimport Button from '../components/button/Button';\r\nimport Modal from '../components/modal/Modal';\r\nimport todo from \"../components/todo/Todo\";\r\n\r\n\r\nconst TodoPage = () => {\r\n    const [ show, setShow ] = useState(false);\r\n    const [ show2, setShow2 ] = useState(false);\r\n    const [ name, setName ] = useState('');\r\n    const [ inputValue, setInputValue ] = useState('');\r\n    const [ todoList, setTodoList ] = useState([]);\r\n    const handleInput = (event) => {\r\n        setInputValue(event.target.value);\r\n    };\r\n\r\n    const handleAdd = () => {\r\n        console.log('add');\r\n        setTodoList(prevState => [ ...prevState, {\r\n            id: todoList.length === 0 ? 1 : todoList[ todoList.length - 1 ].id + 1,\r\n            title: inputValue,\r\n            completed: false\r\n        } ]);\r\n    };\r\n\r\n\r\n\r\n    const handleEdit = (todoEdit) => {\r\n        console.log(todoEdit);\r\n        todoList.map(todo=> {\r\n            if (todoEdit.id === todo.id) return todo.title=todoEdit.title\r\n        })\r\n        setTodoList([ ...todoList ]);\r\n    }\r\n\r\n    const handleDone = (id) => {\r\n        todoList.map(todo => {\r\n            if (id === todo.id) {\r\n                return todo.completed = !todo.completed;\r\n            }\r\n        });\r\n        setTodoList([ ...todoList ]);\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n        setTodoList(todoList.filter(todo => todo.id !== id));\r\n    };\r\n    const handleShow = (name) => {\r\n        setName(name);\r\n        if (name === 'show') setShow(prevState => !prevState);\r\n        if (name === 'show2') setShow2(prevState => !prevState);\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log('useEffect');\r\n    }, [ show ]);\r\n\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('user', JSON.stringify({\r\n            id: 5,\r\n            name: 'Nikita'\r\n        }));\r\n    }, []);\r\n\r\n    console.log(localStorage.getItem('user'));\r\n    useEffect(() => {\r\n        const myLocalStorage = JSON.parse(localStorage.getItem('todo'));\r\n        if (myLocalStorage === null) {\r\n            return localStorage.setItem('todo', JSON.stringify(todoList));\r\n        }\r\n        if (myLocalStorage !== 0) {\r\n            setTodoList(myLocalStorage);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('todo', JSON.stringify(todoList));\r\n    }, [ todoList ]);\r\n\r\n\r\n    return (\r\n        <div>\r\n            <TodoList\r\n                todoList={todoList}\r\n                handleDone={handleDone}\r\n                handleDelete={handleDelete}\r\n                handleEdit={handleEdit}\r\n            />\r\n            <Button name={'Открыть'} action={() => handleShow('show')}/>\r\n            <Button name={'Открыть2'} action={() => handleShow('show2')}/>\r\n            <button onClick={() => handleShow('show')}>Открыть</button>\r\n            <button onClick={() => handleShow('show2')}>Открыть</button>\r\n            {\r\n                show && <Modal\r\n                    handleShow={handleShow}\r\n                    name={name}\r\n                    handleInput={handleInput}\r\n                    handleAdd={handleAdd}\r\n                >\r\n                    <h1>Hello</h1>\r\n                </Modal>\r\n            }\r\n            {\r\n                show2 && <Modal handleShow={handleShow} name={name}>\r\n                    <h1>Hello2</h1>\r\n                </Modal>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default TodoPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}